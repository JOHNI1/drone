<?xml version="1.0"?>
<robot name="simple_box" xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- Define the macro with an optional block parameter -->
  <xacro:macro name="my_link" params="name length:=1.0 radius:=0.5 **extra">
    <!-- Define a default extra block -->
    <xacro:property name="default_extra">
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </xacro:property>

    <!-- Use the parameters in the macro -->
    <link name="${name}">
      <visual>
        <geometry>
          <cylinder length="${length}" radius="${radius}" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <cylinder length="${length}" radius="${radius}" />
        </geometry>
      </collision>
      <inertial>
        <mass value="1.0"/>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
      </inertial>
      <!-- Insert the extra block if provided, else use the default -->
      <xacro:insert_block name="extra" />
    </link>
  </xacro:macro>

  <!-- Example usage without extra settings -->
  <xacro:my_link name="link3">
    <extra>
      <!-- This block is intentionally left empty to avoid errors -->
    </extra>
  </xacro:my_link>

</robot>
